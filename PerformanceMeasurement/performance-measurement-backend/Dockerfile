# Use an image that contains both JDK and Maven, or install Maven separately
FROM openjdk:21

# Copy your project files into the image
COPY . /app
WORKDIR /app

# Compile and build the project
# This will download dependencies and compile your Java code
RUN ./mvnw clean install

# Set the entry point to run your built jar
# Adjust the path to where the jar file is generated by Maven
ENTRYPOINT ["java", "-jar", "target/performance-measurement-backend-0.0.1-SNAPSHOT.jar"]